const CHAR_SIZE=8;function pad(t,e){let n=t;for(;n.length%e!=0;)n="0"+n;return n}function chunkify(t,e){const n=[];for(let o=0;o<t.length;o+=e)n.push(t.slice(o,o+e));return n}function rotateLeft(t,e){return t.substr(e)+t.substr(0,e)}function preProcess(t){let e=t.split("").map(t=>t.charCodeAt(0)).map(t=>t.toString(2)).map(t=>pad(t,8)).join("")+"1";for(;e.length%512!=448;)e+="0";let n=(t.length*CHAR_SIZE).toString(2);return n=pad(n,8),e+(n="0".repeat(64-n.length)+n)}function SHA1(t){let e=1732584193,n=4023233417,o=2562383102,r=271733878,s=3285377520;return chunkify(preProcess(t),512).forEach(function(t,a){const p=chunkify(t,32);for(let t=16;t<80;t++){const e=rotateLeft(pad(([p[t-3],p[t-8],p[t-14],p[t-16]].map(t=>parseInt(t,2)).reduce((t,e)=>e^t,0)>>>0).toString(2),32),1);p.push(e)}let[c,l,u,f,i]=[e,n,o,r,s];for(let t=0;t<80;t++){let e,n;t<20?(e=l&u|~l&f,n=1518500249):t<40?(e=l^u^f,n=1859775393):t<60?(e=l&u|l&f|u&f,n=2400959708):(e=l^u^f,n=3395469782),e>>>=0;const o=rotateLeft(pad(c.toString(2),32),5),r=(parseInt(o,2)>>>0)+e+i+n+(parseInt(p[t],2)>>>0);i=f>>>0,f=u>>>0;const s=rotateLeft(pad(l.toString(2),32),30);u=parseInt(s,2)>>>0,l=c>>>0,c=r>>>0}e=e+c>>>0,n=n+l>>>0,o=o+u>>>0,r=r+f>>>0,s=s+i>>>0}),[e,n,o,r,s].map(t=>t.toString(16)).map(t=>pad(t,8)).join("")}console.log(SHA1("A Test")),console.log(SHA1("A Test")),module.exports=SHA1;